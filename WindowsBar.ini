[Metadata]
Name = WindowsBar
Author = Meti0X7CB
Information = "A simple Windows Bar"
Version = 1.4
License = GNU General Public License v3.0

[Rainmeter]
Update = 30
AccurateText = 1
DefaultAlwaysOnTop = -2
DefaultDraggable = 0
DefaultAutoSelectScreen = 0
DefaultWindowY = 0
DefaultAnchorY = 0
OnRefreshAction = [!WriteKeyValue Variables Scale "[AppBar:MonitorScale()]" "#@#Variables.inc"][!ActivateConfig "WindowsBar\AudioCore" "Visualizer.ini"][!Refresh "WindowsBar\AudioCore"]
OnCloseAction = [!DeactivateConfig "WindowsBar\AudioCore" "Visualizer.ini"]

[Variables]
@include="#@#Variables.inc"
Scale = [AppBar:MonitorScale()]
Color = 222,222,222
BatteryColor = 222,222,222
Highlight = [WindowsAccentColor]
Height = 35
SSDGraphMax = 1000000
NETGraphMax = 1000000
VDHoverW = (25*#Scale#)
VDHoverH = (21*#Scale#)
VDHoverShape = Rectangle 0,0,#VDHoverW#,#VDHoverH#,(2.5*#Scale#),(2.5*#Scale#) | Fill Color 255,255,255,30 | StrokeWidth 1 | Stroke Color 255,255,255,30
FrostLevel = Acrylic
Theme = Light4
CornerType = None
PlayerId = "Active"

[MeasureVDIDs]
Measure = Registry
RegHKey = HKEY_CURRENT_USER
RegKey = SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\VirtualDesktops
RegValue = VirtualDesktopIDs
DynamicVariables = 1

[MeasureVDCurrentGuid]
Measure = Registry
RegHKey = HKEY_CURRENT_USER
RegKey = SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\VirtualDesktops
RegValue = CurrentVirtualDesktop
DynamicVariables = 1

[MeasureVDLua]
Measure = Script
ScriptFile = #@#VD.lua
DynamicVariables = 1
UpdateDivider = 1

[NewVD]
Measure = Plugin
Plugin = SendKeys
Keys = LWin+Ctrl+D
Delay = 0

[MeasureVDJump]
Measure = Plugin
Plugin = RunCommand
Program = #@#VirtualDesktopAccessor.exe
Parameter = MoveToDesktop #VDJumpTarget#
State = Hide
DynamicVariables = 1
UpdateDivider = -1
Group = VD

[MeasureVDDeleteAt]
Measure = Plugin
Plugin = RunCommand
Program = #@#VirtualDesktopAccessor.exe
Parameter = DeleteDesktopAt #VDDeleteTarget# #VDDeleteFallback#
State = Hide
DynamicVariables = 1
UpdateDivider = -1
Group = VD

[MeasureVDCountClamped]
Measure = Calc
Formula = (#VDCount# < 1 ? 1 : (#VDCount# > #VDMax# ? #VDMax# : #VDCount#))
DynamicVariables = 1
Group = VD

[MeasureVDCurrentClamped]
Measure = Calc
Formula = (#VDCurrent# < 1 ? 1 : (#VDCurrent# > [MeasureVDCountClamped] ? [MeasureVDCountClamped] : #VDCurrent#))
DynamicVariables = 1
Group = VD

[MeasureVDPlusX]
Measure = Calc
Formula = (#VDX# + (([MeasureVDCountClamped]-1)*#VDGap#) + #VDPaddingAfterStrip# - ((15*#Scale#)/2))
DynamicVariables = 1
Group = VD

[MeasureVDActionIcon]
Measure = Calc
Formula = ([MeasureVDCountClamped] >= #VDMax# ? 1 : 0)
Substitute = "0":"Add","1":"Delete"
DynamicVariables = 1
Group = VD

[MeterNewVD]
Meter = Image
ImageName = #@#[MeasureVDActionIcon].png
X = ([MeasureVDPlusX])
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterNewVD ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterNewVD ImageTint "#*Color*#"][!CommandMeasure MeasureVDLua "OnNewVDButton()"]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterNewVD:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterNewVD:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterNewVD ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1
Group = VD

[MeasureWindowsTheme]
Measure = Registry
RegHKey = HKEY_CURRENT_USER
RegKey = Software\Microsoft\Windows\CurrentVersion\Themes\Personalize
RegValue = AppsUseLightTheme
IfCondition = MeasureWindowsTheme = 1
IfConditionMode = 1
IfTrueAction = [!SetVariable Theme "Light4"][!SetVariable Color "28,28,28"][!SetVariable VDDotColor "105,105,105"][!WriteKeyValue Variables Color "28,28,28" "#@#Variables.inc"][!WriteKeyValue Variables VDDotColor "105,105,105" "#@#Variables.inc"]
IfFalseAction = [!SetVariable Theme "Dark4"][!SetVariable Color "222,222,222"][!SetVariable VDDotColor "170,170,170"][!WriteKeyValue Variables Color "222,222,222" "#@#Variables.inc"][!WriteKeyValue Variables VDDotColor "170,170,170" "#@#Variables.inc"]
OnChangeAction = [!Refresh "WindowsBar\AudioCore"]
DynamicVariables = 1

[MeasureWindowsScaling]
Measure = Calc
Formula = [AppBar:MonitorScale()]
OnChangeAction = [!Refresh]
DynamicVariables = 1
UpdateDivider = 10

[WindowsAccentColor]
Measure = Plugin
Plugin = SysColor
ColorType = Accent

[AppBar]
Measure = Plugin
Plugin = AppBar
PriorityList =
UsePrimaryMonitorByDefault = 0
RequiredSpace = (#Height#)
Edge = Top
DPIAware = 1
WatchOnly = 0
DynamicVariables = 1

[FrostedGlass]
Measure = Plugin
Plugin = FrostedGlass
Type = #FrostLevel#
Border = None
Corner = #CornerType#
Backdrop = #Theme#
BorderVisible = 0
DynamicVariables = 1

[ButtonStyle]
Meter = Shape
Shape = Rectangle 0,0,(21*#Scale#),(21*#Scale#),(2.5*#Scale#),(2.5*#Scale#) | Fill Color 255,255,255,30 | StrokeWidth 1 | Stroke Color 255,255,255,30
Hidden = 1
AntiAlias = 1
DynamicVariables = 1

[MeterCanvas]
Meter = Shape
Shape = Rectangle 0,0,(#SCREENAREAWIDTH#),(#Height#*#Scale#),0 | Fill Color 0,0,0,0 | StrokeWidth 0
DynamicVariables = 1

[MeasureStatus]
Measure = Plugin
Plugin = WebNowPlaying
PlayerType = Status
PlayerId = #PlayerId#
IfCondition = MeasureStatus = 1
IfTrueAction = [!ShowMeterGroup "Active"]
IfFalseAction = [!HideMeterGroup "Active"]
DynamicVariables = 1

[MeasureTitle]
Measure = Plugin
Plugin = WebNowPlaying
PlayerType = Title
PlayerId = #PlayerId#
DynamicVariables = 1
Substitute = "0":""

[MeterWindows]
Meter = Image
ImageName = #@#Windows.png
X = (15*#Scale#)
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterWindows ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterWindows ImageTint "#*Color*#"][!CommandMeasure MeasureVDLua "ToggleStart()"]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterWindows:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterWindows:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterWindows ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1

[MeterVDInactive]
Meter = Shape
Shape  = Rectangle (#VDX#-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 1 ? ([MeasureVDCurrentClamped] = 1 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
Shape2 = Rectangle ((#VDX#+(1*#VDGap#))-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 2 ? ([MeasureVDCurrentClamped] = 2 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
Shape3 = Rectangle ((#VDX#+(2*#VDGap#))-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 3 ? ([MeasureVDCurrentClamped] = 3 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
Shape4 = Rectangle ((#VDX#+(3*#VDGap#))-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 4 ? ([MeasureVDCurrentClamped] = 4 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
Shape5 = Rectangle ((#VDX#+(4*#VDGap#))-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 5 ? ([MeasureVDCurrentClamped] = 5 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
Shape6 = Rectangle ((#VDX#+(5*#VDGap#))-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 6 ? ([MeasureVDCurrentClamped] = 6 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
Shape7 = Rectangle ((#VDX#+(6*#VDGap#))-#VDR#),(#VDY#-#VDR#),#VDH#,#VDH#,#VDR#,#VDR# | Fill Color #VDDotColor#,([MeasureVDCountClamped] >= 7 ? ([MeasureVDCurrentClamped] = 7 ? 0 : #VDAlpha#) : 0) | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDActivePill]
Meter = Shape
Shape = Rectangle (#VDX#+((#VDPillPos#-1)*#VDGap#)-(#VDPillW#/2)),(#VDY#-#VDR#),#VDPillW#,#VDH#,#VDR#,#VDR# | Fill Color #Color# | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover1]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(0*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover2]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(1*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover3]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(2*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover4]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(3*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover5]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(4*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover6]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(5*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHover7]
Meter = Shape
Shape = #VDHoverShape#
X = ((#VDX#+(6*#VDGap#))-(#VDHoverW#/2))
Y = (#VDY#-(#VDHoverH#/2))
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress1]
Meter = Shape
Shape = Rectangle ((#VDX#+(0*#VDGap#))-([MeasureVDCurrentClamped]=1 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=1 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress2]
Meter = Shape
Shape = Rectangle ((#VDX#+(1*#VDGap#))-([MeasureVDCurrentClamped]=2 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=2 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress3]
Meter = Shape
Shape = Rectangle ((#VDX#+(2*#VDGap#))-([MeasureVDCurrentClamped]=3 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=3 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress4]
Meter = Shape
Shape = Rectangle ((#VDX#+(3*#VDGap#))-([MeasureVDCurrentClamped]=4 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=4 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress5]
Meter = Shape
Shape = Rectangle ((#VDX#+(4*#VDGap#))-([MeasureVDCurrentClamped]=5 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=5 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress6]
Meter = Shape
Shape = Rectangle ((#VDX#+(5*#VDGap#))-([MeasureVDCurrentClamped]=6 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=6 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDPress7]
Meter = Shape
Shape = Rectangle ((#VDX#+(6*#VDGap#))-([MeasureVDCurrentClamped]=7 ? (#VDPillW#/2) : #VDR#)),(#VDY#-#VDR#),([MeasureVDCurrentClamped]=7 ? #VDPillW# : #VDH#),#VDH#,#VDR#,#VDR# | Fill Color #Highlight#,220 | StrokeWidth 0
Hidden = 1
AntiAlias = 1
DynamicVariables = 1
Group = VD

[MeterVDHit1]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 1 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress1][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress1][!CommandMeasure MeasureVDLua "MoveToDesktop(1)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress1][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress1][!CommandMeasure MeasureVDLua "DeleteDesktop(1)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover1][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress1][!HideMeter MeterVDHover1][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterVDHit2]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 2 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#+(1*#VDGap#)-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress2][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress2][!CommandMeasure MeasureVDLua "MoveToDesktop(2)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress2][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress2][!CommandMeasure MeasureVDLua "DeleteDesktop(2)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover2][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress2][!HideMeter MeterVDHover2][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterVDHit3]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 3 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#+(2*#VDGap#)-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress3][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress3][!CommandMeasure MeasureVDLua "MoveToDesktop(3)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress3][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress3][!CommandMeasure MeasureVDLua "DeleteDesktop(3)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover3][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress3][!HideMeter MeterVDHover3][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterVDHit4]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 4 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#+(3*#VDGap#)-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress4][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress4][!CommandMeasure MeasureVDLua "MoveToDesktop(4)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress4][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress4][!CommandMeasure MeasureVDLua "DeleteDesktop(4)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover4][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress4][!HideMeter MeterVDHover4][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterVDHit5]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 5 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#+(4*#VDGap#)-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress5][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress5][!CommandMeasure MeasureVDLua "MoveToDesktop(5)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress5][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress5][!CommandMeasure MeasureVDLua "DeleteDesktop(5)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover5][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress5][!HideMeter MeterVDHover5][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterVDHit6]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 6 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#+(5*#VDGap#)-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress6][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress6][!CommandMeasure MeasureVDLua "MoveToDesktop(6)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress6][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress6][!CommandMeasure MeasureVDLua "DeleteDesktop(6)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover6][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress6][!HideMeter MeterVDHover6][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterVDHit7]
Meter = Shape
Shape = Rectangle 0,0,([MeasureVDCountClamped] >= 7 ? #VDGap# : 0),(#VDH#+(8*#Scale#)),0,0 | Fill Color 255,255,255,1 | StrokeWidth 0
X = (#VDX#+(6*#VDGap#)-(#VDGap#/2))
Y = (#VDY#-((#VDH#+(8*#Scale#))/2))
LeftMouseDownAction = [!ShowMeter MeterVDPress7][!Redraw]
LeftMouseUpAction = [!HideMeter MeterVDPress7][!CommandMeasure MeasureVDLua "MoveToDesktop(7)"][!Redraw]
MiddleMouseDownAction = [!ShowMeter MeterVDPress7][!Redraw]
MiddleMouseUpAction = [!HideMeter MeterVDPress7][!CommandMeasure MeasureVDLua "DeleteDesktop(7)"][!Redraw]
MouseOverAction = [!ShowMeter MeterVDHover7][!Redraw]
MouseLeaveAction = [!HideMeter MeterVDPress7][!HideMeter MeterVDHover7][!Redraw]
DynamicVariables = 1
Group = VD,VDHit

[MeterTitle]
Meter = String
MeasureName = MeasureTitle
X = (#MeterBandsStart#+(56*#Scale#)+15)
Y = ((#Height#*#Scale#)-(2.5*#Scale#))/2
FontColor = #Color#
FontSize = (10*#Scale#)
FontFace = Segoe UI
FontWeight = 500
AntiAlias = 1
ClipString = 1
StringAlign = LeftCenter
DynamicVariables = 1
Group = Active

[MusicSpacer]
Meter = String
Text = " -"
X = R
Y = ((#Height#*#Scale#)-(2.5*#Scale#))/2
FontColor = #Color#
FontSize = (10*#Scale#)
FontFace = Segoe UI
FontWeight = 500
AntiAlias = 1
ClipString = 1
StringAlign = LeftCenter
DynamicVariables = 1
Group = Active

[MeasureArtist]
Measure = Plugin
Plugin = WebNowPlaying
PlayerType = Artist
PlayerId = #PlayerId#
DynamicVariables = 1
Substitute = "0":""

[MeterArtist]
Meter = String
MeasureName = MeasureArtist
Text = " %1"
X = R
Y = ((#Height#*#Scale#)-(2.5*#Scale#))/2
FontColor = #Color#
FontSize = (10*#Scale#)
FontFace = Segoe UI
FontWeight = 500
AntiAlias = 1
ClipString = 1
StringAlign = LeftCenter
DynamicVariables = 1
Group = Active

[MeasurePlayPause]
Measure = Plugin
Plugin = WebNowPlaying
PlayerType = State
PlayerId = #PlayerId#
Substitute = "0":"Play","1":"Pause","2":"Play","3":"Replay"
DynamicVariables = 1

[MeterPrev]
Meter = Image
ImageName = #@#Previous.png
X = (10*#Scale#)R
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterPrev ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterPrev ImageTint "#*Color*#"][!CommandMeasure MeasurePlayPause "Previous"]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterPrev:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterPrev:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterPrev ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1
Group = Active

[MeterPlayPause]
Meter = Image
ImageName = #@#[MeasurePlayPause].png
X = (10*#Scale#)R
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterPlayPause ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterPlayPause ImageTint "#*Color*#"][!CommandMeasure MeasurePlayPause "PlayPause"][!UpdateMeasure MeasurePlayPause]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterPlayPause:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterPlayPause:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterPlayPause ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1
Group = Active

[MeterNext]
Meter = Image
ImageName = #@#Next.png
X = (10*#Scale#)R
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterNext ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterNext ImageTint "#*Color*#"][!CommandMeasure MeasurePlayPause "Next"]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterNext:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterNext:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterNext ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1
Group = Active

[MeasureTime]
Measure = Time
Format = %I:%M %p

[MeasureDate]
Measure = Time
Format = %a, %b %#d

[ActionCenter]
Measure = Plugin
Plugin = SendKeys
Keys = LWin+A
Delay = 0

[Windows]
Measure = Plugin
Plugin = SendKeys
Keys = LWin
Delay = 0

[CloseStart]
Measure = Plugin
Plugin = SendKeys
Keys = Escape
Delay = 0

[CommandPalette]
Measure = Plugin
Plugin = SendKeys
Keys = LWin+Alt+Space
Delay = 0

[NotificationCenter]
Measure = Plugin
Plugin = SendKeys
Keys = LWin+N
Delay = 0

[MeasureBatteryStatus]
Measure = Plugin
Plugin = PowerPlugin
PowerState = Status
IfCondition   = ([MeasureBatteryStatus] = 0)
IfTrueAction  = [!HideMeterGroup "Battery"]
IfFalseAction = [!ShowMeterGroup "Battery"]
IfCondition2  = ([MeasureBatteryStatus] = 1)
IfTrueAction2 = [!SetVariable BatteryColor "69,197,94"][!ShowMeter MeterChargingIndicator]
IfFalseAction2= [!HideMeter MeterChargingIndicator]
IfCondition3  = ([MeasureBatteryStatus] = 2)
IfTrueAction3 = [!SetVariable BatteryColor "255,59,48"]
IfCondition4  = ([MeasureBatteryStatus] = 3)
IfTrueAction4 = [!SetVariable BatteryColor "255,204,10"]
IfCondition5  = ([MeasureBatteryStatus] = 4)
IfTrueAction5 = [!SetVariable BatteryColor "222,222,222"]
DynamicVariables = 1
UpdateDivider = 10

[MeasureBatteryPercent]
Measure = Plugin
Plugin = PowerPlugin
PowerState = Percent

[BatteryIcon]
Meter = Image
ImageName = #@#Battery.png
X = ([MeterCommandPalette:X]-(35*#Scale#))
Y = ((#Height#*#Scale#)-(20*#Scale#))/2
W = (20*#Scale#)
H = (20*#Scale#)
AntiAlias = 1
ImageTint = #Color#
DynamicVariables = 1
Group = Battery

[BatteryBarContainer]
Meter = Image
ImageName = #@#BatteryBar.png
X = ([MeterCommandPalette:X]-(35*#Scale#))
Y = ((#Height#*#Scale#)-(20*#Scale#))/2
W = (20*#Scale#)
H = (20*#Scale#)
AntiAlias = 1
DynamicVariables = 1
Group = Battery

[MeterBatteryBar]
Meter = Shape
Container = BatteryBarContainer
Shape = Rectangle 0,0,([MeasureBatteryPercent]*0.01*(20*#Scale#)),(20*#Scale#) | Fill Color #BatteryColor# | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1
Group = Battery

[MeterChargingIndicator]
Meter = Image
ImageName = #@#Charging.png
X = ([MeterCommandPalette:X]-(35*#Scale#))
Y = ((#Height#*#Scale#)-(20*#Scale#))/2
W = (20*#Scale#)
H = (20*#Scale#)
AntiAlias = 1
ImageTint = #Color#
Hidden = 1
DynamicVariables = 1
Group = Battery

[MeasureSSD]
Measure = Plugin
Plugin = UsageMonitor
Category = Process
Counter = IO Data Bytes/sec
UpdateDivider = 20

[MeasureSSDScaled]
Measure = Calc
Formula = (MeasureSSD / #SSDGraphMax# * 100)
MaxValue = 100
MinValue = 0
DynamicVariables = 1
UpdateDivider = 20

[MeasureSSDAutoMax]
Measure = Calc
Formula = MeasureSSD
IfCondition = (MeasureSSDAutoMax >= #SSDGraphMax#) && (#SSDGraphMax# < 1000000000)
IfTrueAction = [!SetVariable SSDGraphMax "(#SSDGraphMax#*2>1000000000?1000000000:(#SSDGraphMax#*2))"][!UpdateMeasure MeasureSSDScaled][!Redraw]
DynamicVariables = 1
UpdateDivider = 20

[MeterSSDIcon]
Meter = Image
ImageName = #@#SSD.png
X = ([MeterRAMIcon:X]-(55*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
DynamicVariables = 1

[MeterSSDGBG]
Meter = Shape
Shape = Rectangle ([MeterSSDIcon:X]+(18*#Scale#)),((#Height#*#Scale#)-(14*#Scale#))/2,(24*#Scale#),(14*#Scale#),(2*#Scale#),(2*#Scale#) | Fill Color #VDDotColor#,70 | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1

[MeterSSDGraph]
Meter = Histogram
MeasureName = MeasureSSDScaled
X = ([MeterSSDIcon:X]+(18*#Scale#))
Y = ((#Height#*#Scale#)-(14*#Scale#))/2
W = (24*#Scale#)
H = (14*#Scale#)
SolidColor = 0,0,0,1
PrimaryColor = #Color#,170
AntiAlias = 1
DynamicVariables = 1
UpdateDivider = 20

[MeasureNET]
Measure = NetTotal
UpdateDivider = 20

[MeasureNETScaled]
Measure = Calc
Formula = (MeasureNET / #NETGraphMax# * 100)
MaxValue = 100
MinValue = 0
DynamicVariables = 1
UpdateDivider = 20

[MeasureNETAutoMax]
Measure = Calc
Formula = MeasureNET
IfCondition = (MeasureNETAutoMax >= #NETGraphMax#) && (#NETGraphMax# < 1000000000)
IfTrueAction = [!SetVariable NETGraphMax "(#NETGraphMax#*2>1000000000?1000000000:(#NETGraphMax#*2))"][!UpdateMeasure MeasureNETScaled][!Redraw]
DynamicVariables = 1
UpdateDivider = 20

[MeterNETIcon]
Meter = Image
ImageName = #@#NET.png
X = ([MeterSSDIcon:X]-(55*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
DynamicVariables = 1

[MeterNETGBG]
Meter = Shape
Shape = Rectangle ([MeterNETIcon:X]+(18*#Scale#)),((#Height#*#Scale#)-(14*#Scale#))/2,(24*#Scale#),(14*#Scale#),(2*#Scale#),(2*#Scale#) | Fill Color #VDDotColor#,70 | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1

[MeterNETGraph]
Meter = Histogram
MeasureName = MeasureNETScaled
X = ([MeterNETIcon:X]+(18*#Scale#))
Y = ((#Height#*#Scale#)-(14*#Scale#))/2
W = (24*#Scale#)
H = (14*#Scale#)
SolidColor = 0,0,0,1
PrimaryColor = #Color#,170
AntiAlias = 1
DynamicVariables = 1
UpdateDivider = 20

[MeasureRAM]
Measure = PhysicalMemory
OnUpdateAction = [!SetVariable RAMUsage "(Round((([MeasureRAM:]/[MeasureRAM:MaxValue])*100),0))"]
UpdateDivider = 20

[MeterRAMIcon]
Meter = Image
ImageName = #@#RAM.png
X = ([MeterGPUIcon:X]-(55*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
DynamicVariables = 1

[MeterRAMGBG]
Meter = Shape
Shape = Rectangle ([MeterRAMIcon:X]+(18*#Scale#)),((#Height#*#Scale#)-(14*#Scale#))/2,(24*#Scale#),(14*#Scale#),(2*#Scale#),(2*#Scale#) | Fill Color #VDDotColor#,70 | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1

[MeterRAMGraph]
Meter = Histogram
MeasureName = MeasureRAM
X = ([MeterRAMIcon:X]+(18*#Scale#))
Y = ((#Height#*#Scale#)-(14*#Scale#))/2
W = (24*#Scale#)
H = (14*#Scale#)
SolidColor = 0,0,0,1
PrimaryColor = #Color#,170
AntiAlias = 1
DynamicVariables = 1
UpdateDivider = 20

[MeasureGPU]
Measure = Plugin
Plugin = NativeHardwareMonitor
Sensor = Load
UpdateDivider = 20

[MeasureGPUScaled]
Measure = Calc
Formula = (MeasureGPU > 100 ? 100 : MeasureGPU)
MaxValue = 100

[MeterGPUIcon]
Meter = Image
ImageName = #@#GPU.png
X = ([MeterCPUIcon:X]-(55*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
DynamicVariables = 1

[MeterGPUGBG]
Meter = Shape
Shape = Rectangle ([MeterGPUIcon:X]+(18*#Scale#)),((#Height#*#Scale#)-(14*#Scale#))/2,(24*#Scale#),(14*#Scale#),(2*#Scale#),(2*#Scale#) | Fill Color #VDDotColor#,70 | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1

[MeterGPUGraph]
Meter = Histogram
MeasureName = MeasureGPUScaled
X = ([MeterGPUIcon:X]+(18*#Scale#))
Y = ((#Height#*#Scale#)-(14*#Scale#))/2
W = (24*#Scale#)
H = (14*#Scale#)
SolidColor = 0,0,0,1
PrimaryColor = #Color#,170
AntiAlias = 1
DynamicVariables = 1
UpdateDivider = 20

[MeasureCPU]
Measure = Plugin
Plugin = UsageMonitor
Category = Processor Information
Counter = % Processor Utility
Name = _Total

[MeasureCPUScaled]
Measure = Calc
Formula = (MeasureCPU > 100 ? 100 : MeasureCPU)
MaxValue = 100

[MeterCPUIcon]
Meter = Image
ImageName = #@#CPU.png
X = (([MeasureBatteryStatus]=0?[MeterCommandPalette:X]:[BatteryBarContainer:X])-(55*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
DynamicVariables = 1

[MeterCPUGBG]
Meter = Shape
Shape = Rectangle ([MeterCPUIcon:X]+(18*#Scale#)),((#Height#*#Scale#)-(14*#Scale#))/2,(24*#Scale#),(14*#Scale#),(2*#Scale#),(2*#Scale#) | Fill Color #VDDotColor#,70 | StrokeWidth 0
AntiAlias = 1
DynamicVariables = 1

[MeterCPUGraph]
Meter = Histogram
MeasureName = MeasureCPUScaled
X = ([MeterCPUIcon:X]+(18*#Scale#))
Y = ((#Height#*#Scale#)-(14*#Scale#))/2
W = (24*#Scale#)
H = (14*#Scale#)
SolidColor = 0,0,0,1
PrimaryColor = #Color#,170
AntiAlias = 1
DynamicVariables = 1
UpdateDivider = 20

[MeterCommandPalette]
Meter = Image
ImageName = #@#Search.png
X = ([MeterActionCenter:X]-(30*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterCommandPalette ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterCommandPalette ImageTint "#*Color*#"][!CommandMeasure MeasureVDLua "ToggleCommandPalette()"]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterCommandPalette:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterCommandPalette:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterCommandPalette ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1

[ButtonStyleTimeXDate]
Meter = Shape
Shape = Rectangle 0,0,([MeterTimeXDate:W]+(10*#Scale#)),(21*#Scale#),(2.5*#Scale#),(2.5*#Scale#) | Extend Style
Style = Fill Color 255,255,255,30 | StrokeWidth 1 | Stroke Color 255,255,255,30
Hidden = 1
AntiAlias = 1
DynamicVariables = 1

[MeterActionCenter]
Meter = Image
ImageName = #@#ControlCenter.png
X = ([MeterTimeXDate:X]-(30*#Scale#))
Y = ((#Height#*#Scale#)-(15*#Scale#))/2
W = (15*#Scale#)
H = (15*#Scale#)
AntiAlias = 1
ImageTint = #Color#
LeftMouseDownAction = [!SetOption MeterActionCenter ImageTint "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterActionCenter ImageTint "#*Color*#"][!CommandMeasure ActionCenter "Send"]
MouseOverAction = [!ShowMeter ButtonStyle][!SetOption ButtonStyle X "([MeterActionCenter:X]-(2.7*#*Scale*#))"][!SetOption ButtonStyle Y "([MeterActionCenter:Y]-(2.7*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterActionCenter ImageTint "#*Color*#"][!HideMeter ButtonStyle]
DynamicVariables = 1

[MeterTimeXDate]
Meter = String
MeasureName  = MeasureTime
MeasureName2 = MeasureDate
Text = "%1  -  %2"
X = (#ScreenAreaWidth#-(15*#Scale#))
Y = ((#Height#*#Scale#)-(2.5*#Scale#))/2
FontColor = #Color#
FontSize = (10*#Scale#)
FontFace = Segoe UI
FontWeight = 500
AntiAlias = 1
ClipString = 1
StringAlign = RightCenter
LeftMouseDownAction = [!SetOption MeterTimeXDate FontColor "#*Highlight*#"]
LeftMouseUpAction = [!SetOption MeterTimeXDate FontColor "#*Color*#"][!CommandMeasure NotificationCenter "Send"]
MouseOverAction = [!ShowMeter ButtonStyleTimeXDate][!SetOption ButtonStyleTimeXDate X "([MeterTimeXDate:X]-(5*#*Scale*#))"][!SetOption ButtonStyleTimeXDate Y "([MeterTimeXDate:Y]-(0.5*#*Scale*#))"]
MouseLeaveAction = [!SetOption MeterTimeXDate FontColor "#*Color*#"][!HideMeter ButtonStyleTimeXDate]
DynamicVariables = 1
